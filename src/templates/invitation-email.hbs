<html>
  <head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          'Helvetica Neue', Arial, sans-serif;
        line-height: 1.6;
        color: #1f2937;
        margin: 0;
        padding: 0;
        background-color: #f3f4f6;
      }
      .container {
        max-width: 600px;
        margin: 40px auto;
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }
      .header {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        color: white;
        padding: 48px 40px;
        text-align: center;
      }
      .header-icon {
        font-size: 48px;
        margin-bottom: 16px;
      }
      .header h1 {
        margin: 0;
        font-size: 32px;
        font-weight: 700;
        letter-spacing: -0.5px;
      }
      .header p {
        margin: 12px 0 0 0;
        font-size: 18px;
        opacity: 0.95;
        font-weight: 400;
      }
      .content {
        padding: 48px 40px;
        background: white;
      }
      .greeting {
        font-size: 20px;
        font-weight: 600;
        color: #111827;
        margin: 0 0 24px 0;
      }
      .content p {
        margin: 0 0 16px 0;
        color: #4b5563;
        font-size: 16px;
        line-height: 1.7;
      }
      .org-name {
        color: #3b82f6;
        font-weight: 700;
      }
      .inviter-box {
        background: #f0f9ff;
        border-left: 4px solid #3b82f6;
        padding: 20px 24px;
        margin: 24px 0;
        border-radius: 8px;
      }
      .inviter-box p {
        margin: 0;
        color: #1e40af;
        font-size: 15px;
      }
      .inviter-box strong {
        font-weight: 600;
        color: #1e3a8a;
      }
      .role-section {
        background: #fef3c7;
        border-radius: 8px;
        padding: 24px;
        margin: 24px 0;
      }
      .role-section h3 {
        margin: 0 0 12px 0;
        color: #92400e;
        font-size: 16px;
        font-weight: 600;
      }
      .role-section p {
        margin: 0 0 16px 0;
        color: #78350f;
        font-size: 15px;
      }
      .permissions-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .permissions-list li {
        padding: 8px 0;
        color: #78350f;
        font-size: 14px;
        display: flex;
        align-items: flex-start;
      }
      .permissions-list li:before {
        content: '‚úì';
        color: #f59e0b;
        font-weight: bold;
        margin-right: 12px;
        font-size: 18px;
      }
      .button-container {
        text-align: center;
        margin: 40px 0;
      }
      .button {
        display: inline-block;
        background: #3b82f6;
        color: white !important;
        padding: 18px 48px;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        font-size: 18px;
        transition: all 0.2s;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
      }
      .button:hover {
        background: #2563eb;
        box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
        transform: translateY(-1px);
      }
      .expiry-notice {
        background: #fff7ed;
        border: 2px solid #fed7aa;
        padding: 16px 20px;
        margin: 32px 0;
        border-radius: 8px;
        text-align: center;
      }
      .expiry-notice p {
        margin: 0;
        color: #9a3412;
        font-size: 14px;
        font-weight: 500;
      }
      .expiry-notice strong {
        color: #7c2d12;
      }
      .link-section {
        background: #f9fafb;
        padding: 20px;
        border-radius: 8px;
        margin: 24px 0;
      }
      .link-section p {
        margin: 0 0 8px 0;
        font-size: 13px;
        color: #6b7280;
      }
      .link-url {
        font-size: 12px;
        color: #9ca3af;
        word-break: break-all;
        font-family: 'Courier New', monospace;
        background: white;
        padding: 12px;
        border-radius: 4px;
        border: 1px solid #e5e7eb;
      }
      .footer {
        text-align: center;
        color: #9ca3af;
        font-size: 13px;
        padding: 32px 40px;
        background: #f9fafb;
        border-top: 1px solid #e5e7eb;
      }
      .footer p {
        margin: 8px 0;
      }
      .divider {
        height: 1px;
        background: #e5e7eb;
        margin: 32px 0;
      }
      .highlight-box {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        padding: 20px 24px;
        margin: 24px 0;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
      }
      .highlight-box h3 {
        margin: 0 0 8px 0;
        font-size: 16px;
        font-weight: 600;
        color: white;
      }
      .highlight-box p {
        margin: 0;
        color: rgba(255, 255, 255, 0.95);
        font-size: 14px;
        line-height: 1.6;
      }
      .highlight-box strong {
        color: white;
        font-weight: 600;
      }
      .location-box {
        background: #fef3c7;
        border-left: 4px solid #f59e0b;
        padding: 20px 24px;
        margin: 24px 0;
        border-radius: 8px;
      }
      .location-box p {
        margin: 0;
        color: #92400e;
        font-size: 15px;
      }
      .location-box p:last-child {
        margin: 8px 0 0 0;
        color: #78350f;
        font-size: 14px;
      }
      .location-box strong {
        font-weight: 600;
        color: #78350f;
      }
      @media only screen and (max-width: 600px) {
        .container {
          margin: 0;
          border-radius: 0;
        }
        .header,
        .content,
        .footer {
          padding-left: 24px;
          padding-right: 24px;
        }
        .header h1 {
          font-size: 28px;
        }
        .button {
          padding: 16px 32px;
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body>
    <div class='container'>
      <div class='header'>
        <div class='header-icon'>üéâ</div>
        <h1>You're Invited!</h1>
        <p>Welcome to {{organizationName}}</p>
      </div>

      <div class='content'>
        <p class='greeting'>Hi {{recipientName}},</p>

        <div class='inviter-box'>
          <p><strong>{{senderName}}</strong>
            has invited you to join
            <strong>{{organizationName}}</strong>
            on DOVA Manufacturing.</p>
        </div>

        {{#if customMessage}}
          <div
            class='inviter-box'
            style='background: #fef3c7; border-left-color: #f59e0b;'
          >
            <p
              style='color: #92400e; font-style: italic;'
            >"{{customMessage}}"</p>
            <p style='margin-top: 8px; font-size: 13px; color: #78350f;'>‚Äî
              {{senderName}}</p>
          </div>
        {{/if}}

        {{#if showLocationBox}}
          <div class='location-box'>
            <p>
              <strong>üìç Your Facility:</strong>
              {{locationName}}
            </p>
            <p>
              You'll be managing operations and team members at this location.
            </p>
          </div>
        {{/if}}

        <div class='highlight-box'>
          <h3>‚ú® Quick & Easy Setup</h3>
          <p><strong>Just one click!</strong>
            Set your password and you're in. No email verification needed, no
            waiting. You'll be logged in automatically and ready to start
            working immediately.</p>
        </div>

        <p>You've been invited to join the team as a
          <strong>{{roleTitle}}</strong>. Here's what you'll be able to do:</p>

        <div class='role-section'>
          <h3>üìã Your Role & Permissions</h3>
          <ul class='permissions-list'>
            {{#each permissions}}
              <li>{{this}}</li>
            {{/each}}
          </ul>
        </div>

        <p><strong>Ready to get started?</strong>
          Click the button below to accept your invitation and set your
          password:</p>

        <div class='button-container'>
          <a href='{{inviteUrl}}' class='button'>Accept Invitation & Get Started</a>
        </div>

        <div class='expiry-notice'>
          <p><strong>‚è∞ Important:</strong>
            This invitation expires in 7 days ({{expiryDate}})</p>
        </div>

        <div class='divider'></div>

        <div class='link-section'>
          <p><strong>Trouble clicking the button?</strong>
            Copy and paste this link into your browser:</p>
          <div class='link-url'>{{inviteUrl}}</div>
        </div>

        <p style='margin-top: 32px; font-size: 14px; color: #6b7280;'>
          <strong>Didn't expect this invitation?</strong>
          You can safely ignore this email. No account will be created unless
          you click the button above.
        </p>
      </div>

      <div class='footer'>
        <p><strong>DOVA Manufacturing</strong></p>
        <p>&copy; {{currentYear}} All rights reserved.</p>
        <p style='margin-top: 16px;'>This is an automated message. Please do not
          reply to this email.</p>
      </div>
    </div>
  </body>
</html>